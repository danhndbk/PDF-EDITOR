<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF EDITOR PRO</title>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/@pdf-lib/fontkit@0.0.4/dist/fontkit.umd.js"></script>
    
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --bg: #f1f5f9;
            --surface: #ffffff;
            --text: #1e293b;
            --border: #e2e8f0;
            --sidebar-width: 260px;
        }

        * { box-sizing: border-box; }

        body {
            font-family: "Yu Gothic", "Meiryo", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            user-select: none; /* NgƒÉn ch·ªçn vƒÉn b·∫£n khi k√©o th·∫£ */
        }

        .header {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: 0 20px;
            display: flex;
            align-items: center;
            height: 50px;
            flex-shrink: 0;
            z-index: 10;
            justify-content: space-between;
        }

        .header h1 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .header-controls {
            display: flex;
            gap: 10px;
            font-size: 0.85rem;
            color: #64748b;
        }

        .app-container {
            display: flex;
            flex: 1;
            height: calc(100vh - 50px);
            overflow: hidden;
            position: relative;
        }

        .sidebar {
            width: var(--sidebar-width);
            background: #fff;
            border-right: 1px solid var(--border);
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex-shrink: 0;
        }
        
        .page-card {
            background: var(--surface);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .page-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        /* Style cho tr·∫°ng th√°i ch·ªçn nhi·ªÅu */
        .page-card.selected {
            border-color: var(--primary);
            background-color: #eff6ff;
            box-shadow: 0 0 0 1px var(--primary);
        }

        /* Hi·ªáu ·ª©ng k√©o th·∫£ */
        .page-card.drag-over-top { border-top: 3px solid var(--primary); margin-top: 5px; }
        .page-card.drag-over-bottom { border-bottom: 3px solid var(--primary); margin-bottom: 5px; }
        .page-card.dragging { opacity: 0.4; transform: scale(0.95); }
        .page-card.multi-dragging { opacity: 0.4; }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            width: 100%;
        }

        .page-number {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 700;
            background: #f1f5f9;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .mini-rotate-btn {
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 4px;
            width: 24px;
            height: 24px;
            padding: 0;
            font-size: 14px;
            cursor: pointer;
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .mini-rotate-btn:hover {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: rotate(90deg);
        }

        .thumb-canvas-wrapper {
            width: 100%;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8fafc;
            border-radius: 4px;
            overflow: hidden;
            pointer-events: none;
        }
        
        .thumb-canvas-wrapper canvas {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .main-preview {
            flex: 1;
            background: #e2e8f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0;
            overflow: hidden; 
            position: relative;
        }

        .preview-wrapper {
            width: 100%;
            height: 100%;
            overflow: auto; 
            display: flex;
            position: relative;
            background: #e2e8f0;
            padding: 40px;
            box-sizing: border-box;
        }
        
        .canvas-centering-box {
            display: block;
            margin: auto;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            background: white;
            position: relative;
            transform-origin: 0 0;
            flex-shrink: 0;
        }

        #main-canvas { display: block; }
        #canvas-box.text-mode { cursor: text; }

        .text-box {
            position: absolute;
            border: 1.5px solid transparent; 
            background-color: transparent;
            min-width: 50px;
            min-height: 1.5em;
            padding: 4px 8px;
            outline: none;
            overflow-wrap: break-word;
            line-height: 1.5;
            white-space: pre-wrap;
            transition: border 0.2s, background-color 0.2s;
            transform-origin: top left;
        }	

        .text-box:hover:not(.selected):not(.editing-in-select) {
            border: 1px dashed rgba(0,0,0,0.2);
        }

        .text-box.selected {
            border: 2px dashed #2563eb; 
            background-color: rgba(239, 246, 255, 0.5); 
            cursor: move; 
            resize: both; 
            overflow: hidden; 
            z-index: 1000; 
        }

        .text-box:not(.selected):not(.editing-in-select) { resize: none; overflow: hidden; }

        .text-box.editing-in-select {
            cursor: text !important;
            border: 1px solid #2563eb; 
            background-color: rgba(255, 255, 255, 1);
            resize: both; 
            outline: none;
            z-index: 1001;
            overflow: hidden;
        }

        .empty-state { color: #64748b; font-size: 1.1rem; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }

        .edit-toolbar {
            position: absolute;
            top: 20px; left: 20px;
            background: white; padding: 8px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: none; flex-direction: column; gap: 8px;
            z-index: 100; border: 1px solid var(--border);
            width: 48px; align-items: center;
        }

        .tool-btn {
            width: 30px; height: 30px;
            border: 1px solid var(--border);
            background: #f8fafc; border-radius: 4px;
            cursor: pointer; display: flex;
            align-items: center; justify-content: center;
            color: var(--text); transition: all 0.2s;
            position: relative; padding: 2px; flex-shrink: 0;
        }
        .tool-btn svg { width: 18px; height: 18px; }
        .tool-btn:hover { background: #e2e8f0; }
        
        .tool-btn.active {
            background-color: #dbeafe;
            border-color: #2563eb;
            color: #1e40af;
        }

        .tool-btn-color { background-color: #ff0000; border: 1px solid rgba(0,0,0,0.2); }
        .tool-separator { height: 1px; background: var(--border); margin: 2px 0; width: 100%; }

        .color-popup {
            position: absolute; left: 100%; top: 0; margin-left: 10px;
            background: white; padding: 8px; border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 1px solid var(--border);
            display: none; grid-template-columns: repeat(2, 1fr); gap: 6px; width: 60px; z-index: 200;
        }
        .color-popup.show { display: grid; }
        .color-swatch { width: 20px; height: 20px; border-radius: 3px; cursor: pointer; border: 1px solid rgba(0,0,0,0.1); transition: transform 0.1s; }
        .color-swatch:hover { transform: scale(1.2); z-index: 2; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }

        .width-popup {
            position: absolute; left: 100%; top: 0; margin-left: 10px;
            background: white; padding: 10px; border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 1px solid var(--border);
            display: none; flex-direction: row; align-items: center; width: 160px; height: 36px; z-index: 200; gap: 8px;
        }
        .width-popup.show { display: flex; }

        .cursor-popup {
            position: absolute; left: 100%; top: 0; margin-left: 10px;
            background: white; padding: 6px; border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); border: 1px solid var(--border);
            display: none; flex-direction: column; gap: 6px; z-index: 200;
        }
        .cursor-popup.show { display: flex; }

        input[type=range] { flex: 1; margin: 0; cursor: pointer; }
        .width-label { font-size: 11px; color: #666; font-weight: 600; min-width: 25px; text-align: right; }

        .text-format-popup {
            position: absolute; 
            background: white; 
            border: 1px solid #ccc;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15); 
            padding: 6px 10px;
            border-radius: 6px; 
            display: none; 
            flex-direction: row;
            gap: 8px; 
            z-index: 2000; 
            align-items: center; 
            white-space: nowrap;
        }
        .popup-select, .popup-input { border: 1px solid #ddd; border-radius: 4px; padding: 2px 4px; font-size: 12px; height: 24px; outline: none;}
        
        .mini-color-palette {
            display: flex;
            gap: 4px;
            margin-left: 4px;
            border-left: 1px solid #eee;
            padding-left: 4px;
        }
        .mini-swatch {
            width: 16px; 
            height: 16px; 
            border-radius: 2px; 
            cursor: pointer; 
            border: 1px solid rgba(0,0,0,0.1);
        }
        .mini-swatch:hover { transform: scale(1.2); }

        .floating-toolbar { position: absolute; bottom: 30px; right: 30px; display: none; flex-direction: column; gap: 12px; align-items: center; z-index: 100; }
        .btn-fab { width: 30px; height: 30px; border-radius: 50%; border: none; cursor: pointer; font-size: 1rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: all 0.2s; background: white; color: var(--text); position: relative; }
        .btn-fab:hover { transform: scale(1.1); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .btn-fab.primary { background-color: var(--primary); color: white; }
        .btn-fab.danger { background-color: white; color: #ef4444; }
        .btn-fab.secondary { background-color: white; color: var(--text); }
        .btn-fab.control { background-color: #f8fafc; }
        .control-group { display: flex; flex-direction: column; gap: 6px; margin-bottom: 6px; padding-bottom: 6px; border-bottom: 1px solid rgba(0,0,0,0.1); align-items: center; }

        .upload-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: var(--bg); z-index: 200; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .upload-zone { width: 100%; max-width: 600px; padding: 40px; background: var(--surface); border: 2px dashed var(--border); border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .upload-zone:hover { border-color: var(--primary); background: #eff6ff; }
        .loader-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.8); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; }
        .spinner { width: 40px; height: 40px; border: 4px solid #e2e8f0; border-top: 4px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        input[type="file"] { display: none; }

        /* Style cho √¥ ƒëi·ªÅu h∆∞·ªõng trang */
        .page-nav-control {
            background: white;
            padding: 5px;
            border-radius: 10px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            font-size: 0.8rem;
            margin-bottom: 6px;
            min-width: 30px; 
            width: 30px;     
        }
        .page-nav-control input {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px 0;
            outline: none;
            width: 100%;
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            font-size: 0.9rem; 
            -moz-appearance: textfield; 
        }
        .page-nav-control input::-webkit-outer-spin-button,
        .page-nav-control input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .page-nav-control input:focus { border-color: var(--primary); }
        .page-nav-control span {
            color: #64748b;
            font-weight: 500;
            font-size: 0.75rem; 
            white-space: nowrap; 
        }

        /* --- M·ªöI: Style cho thanh tr∆∞·ª£t Zoom --- */
        .zoom-slider-container {
            position: absolute;
            bottom: 30px;
            right: 80px; /* C√°ch ph·∫£i 80px ƒë·ªÉ n·∫±m c·∫°nh toolbar (toolbar width ~50px) */
            height: 200px;
            width: 40px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 0;
            z-index: 100;
            gap: 10px;
            /* ·∫®n m·∫∑c ƒë·ªãnh, ch·ªâ hi·ªán khi c·∫ßn */
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        /* Class ƒë·ªÉ k√≠ch ho·∫°t hi·ªÉn th·ªã */
        .zoom-slider-container.active {
            opacity: 1;
            pointer-events: auto;
        }

        .zoom-slider-value {
            font-size: 0.75rem;
            font-weight: bold;
            color: var(--primary);
            text-align: center;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 2px;
            width: 32px;
            height: 20px;
            line-height: 16px;
            background: #f8fafc;
        }

        /* Thanh tr∆∞·ª£t d·ªçc */
        input[type=range].vertical-zoom-slider {
            writing-mode: bt-lr; /* IE/Edge */
            -webkit-appearance: slider-vertical; /* Webkit */
            width: 8px;
            flex: 1;
            margin: 0;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1><span style="font-size: 1.5rem;">üìÑ</span> PDF Editor Pro</h1>
        <div class="header-controls">
            <span>ÊäÄË°ìÈÉ®Ôº£Ôº°Ôº§„ÉÅ„Éº„É†</span>
            <span>|</span>
            <span>„É§„Ç§„É≥</span>
        </div>
    </div>

    <div class="app-container">
        
        <div class="upload-overlay" id="upload-overlay">
            <div class="upload-zone" id="drop-zone">
                <div style="font-size: 48px; margin-bottom: 20px;">üìÇ</div>
                <div style="background:var(--primary); color:white; padding:12px 24px; border-radius:6px; display:inline-block;">Select PDF File</div>
                <p>or drag and drop file here</p>
                <input type="file" id="file-input" accept="application/pdf">
            </div>
        </div>

        <div class="sidebar" id="sidebar-list"></div>

        <div class="main-preview" id="main-preview-container">
            <div class="empty-state" id="empty-msg">Select a page to view details</div>
            
            <div id="text-format-popup" class="text-format-popup">
                <select id="popup-font" class="popup-select">
                    <option value="MS Gothic">MS Gothic</option>
                    <option value="MS Mincho">MS Mincho</option>
                    <option value="Meiryo">Meiryo</option>
                    <option value="Yu Gothic">Yu Gothic</option>
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                </select>
                <input type="number" id="popup-size" value="16" min="8" max="72" class="popup-input" style="width: 50px;" title="Font Size">
                <div class="mini-color-palette" id="mini-color-palette">
                    <div class="mini-swatch" style="background-color: #ff0000;" data-color="#ff0000" title="Red"></div>
                    <div class="mini-swatch" style="background-color: #0000ff;" data-color="#0000ff" title="Blue"></div>
                    <div class="mini-swatch" style="background-color: #008000;" data-color="#008000" title="Green"></div>
                    <div class="mini-swatch" style="background-color: #000000;" data-color="#000000" title="Black"></div>
                </div>
            </div>

            <div class="edit-toolbar" id="edit-toolbar">
                <div style="position: relative; width: 30px;">
                    <button class="tool-btn" id="tool-cursor-btn" title="Cursor Mode" onclick="toggleCursorPopup()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="M13 13l6 6"/></svg>
                    </button>
                    <div class="cursor-popup" id="cursor-popup">
                        <button class="tool-btn" id="mode-select" title="Select / Move" onclick="setMode('select')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="M13 13l6 6"/></svg>
                        </button>
                        <button class="tool-btn" id="mode-pan" title="Pan (Hand)" onclick="setMode('pan')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"/><path d="M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2"/><path d="M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"/><path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/></svg>
                        </button>
                    </div>
                </div>

                <div class="tool-separator"></div>

                <button class="tool-btn" id="tool-freehand" title="Freehand" onclick="setMode('draw', 'freehand')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19.07 4.93L17.07 6.93C17.07 6.93 16.07 8.93 15.07 9.93C14.07 10.93 12.07 11.93 11.07 12.93C10.07 13.93 10.07 15.93 9.07 16.93L9 17L12 20L12.07 19.93C13.07 18.93 15.07 18.93 16.07 17.93C17.07 16.93 18.07 14.93 19.07 13.93C20.07 12.93 22.07 11.93 22.07 11.93L20.07 9.93M3 21H6L18.5 8.5L15.5 5.5L3 18V21Z"/></svg>
                </button>
                <button class="tool-btn" id="tool-line" title="Line" onclick="setMode('draw', 'line')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="19" x2="19" y2="5"></line></svg>
                </button>
                <button class="tool-btn" id="tool-arrow" title="Arrow" onclick="setMode('draw', 'arrow')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                </button>
                <button class="tool-btn" id="tool-rect" title="Rectangle" onclick="setMode('draw', 'rect')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>
                </button>
                <button class="tool-btn" id="tool-ellipse" title="Ellipse" onclick="setMode('draw', 'ellipse')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="12" rx="9" ry="6"></ellipse></svg>
                </button>
                
                <button class="tool-btn" id="tool-text" title="Text Box" onclick="setMode('draw', 'text')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7V4h16v3"/><path d="M9 20h6"/><path d="M12 4v16"/></svg>
                </button>

                <div class="tool-separator"></div>
                
                <div style="position: relative; width: 30px;">
                    <button class="tool-btn tool-btn-color" id="tool-color-btn" title="Color" onclick="toggleColorPopup()">
                    </button>
                    <div class="color-popup" id="color-popup">
                        <div class="color-swatch" style="background-color: #ff0000;" onclick="selectColor('#ff0000')"></div>
                        <div class="color-swatch" style="background-color: #ff8c00;" onclick="selectColor('#ff8c00')"></div>
                        <div class="color-swatch" style="background-color: #ffd700;" onclick="selectColor('#ffd700')"></div>
                        <div class="color-swatch" style="background-color: #008000;" onclick="selectColor('#008000')"></div>
                        <div class="color-swatch" style="background-color: #0000ff;" onclick="selectColor('#0000ff')"></div>
                        <div class="color-swatch" style="background-color: #800080;" onclick="selectColor('#800080')"></div>
                        <div class="color-swatch" style="background-color: #000000;" onclick="selectColor('#000000')"></div>
                        <div class="color-swatch" style="background-color: #808080;" onclick="selectColor('#808080')"></div>
                        <div class="color-swatch" style="background-color: #ffffff; border:1px solid #ccc" onclick="selectColor('#ffffff')"></div>
                        <div class="color-swatch" style="background-color: #8B4513;" onclick="selectColor('#8B4513')"></div>
                    </div>
                </div>

                <div style="position: relative; width: 30px;">
                    <button class="tool-btn" id="tool-width-btn" title="Stroke Width" onclick="toggleWidthPopup()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round">
                            <line x1="4" y1="6" x2="20" y2="6" stroke-width="1" />
                            <line x1="4" y1="12" x2="20" y2="12" stroke-width="2" />
                            <line x1="4" y1="18" x2="20" y2="18" stroke-width="4" />
                        </svg>
                    </button>
                    <div class="width-popup" id="width-popup">
                        <input type="range" id="tool-width-slider" min="1" max="20" value="3" step="1" oninput="setWidth(this.value)">
                        <div class="width-label" id="width-label">3px</div>
                    </div>
                </div>
            </div>

            <div class="preview-wrapper" id="preview-wrapper">
                <div class="canvas-centering-box" id="canvas-box">
                    <canvas id="main-canvas"></canvas>
                    </div>
            </div>
            
            <!-- M·ªöI: Thanh tr∆∞·ª£t Zoom b√™n c·∫°nh toolbar (·∫©n m·∫∑c ƒë·ªãnh) -->
            <div class="zoom-slider-container" id="zoom-controls">
                <input type="text" id="zoom-value-display" class="zoom-slider-value" value="100%" readonly>
                <input type="range" id="zoom-vertical-slider" class="vertical-zoom-slider" min="0" max="16" step="1" value="7" title="Zoom Level">
            </div>

            <div class="floating-toolbar" id="global-toolbar">
                <div class="page-nav-control">
                    <input type="number" id="page-nav-input" min="1" value="1" title="Enter page number">
                    <span id="page-count-display" title="Total Pages">/ 0</span>
                </div>
                <div class="control-group">
                    <button class="btn-fab control" title="Zoom In (+)" onclick="changeZoom(0.2)">+</button>
                    <button class="btn-fab control" title="Zoom Out (-)" onclick="changeZoom(-0.2)">-</button>
                </div>
                <div class="control-group">
                    <button class="btn-fab control" title="Previous Page" onclick="changePage(-1)">‚Üë</button>
                    <button class="btn-fab control" title="Next Page" onclick="changePage(1)">‚Üì</button>
                </div>
                <button class="btn-fab secondary" title="Rotate All 90¬∞" onclick="rotateAll(90)">‚Üª</button>
                <button class="btn-fab danger" title="Reset / Cancel" onclick="resetApp()">‚úñ</button>
                <button class="btn-fab primary" title="Save File" onclick="savePDF()">üíæ</button>
            </div>
        </div>
    </div>

    <div class="loader-overlay" id="loader">
        <div class="spinner"></div>
        <p style="margin-top: 15px; font-weight: 500; color: #64748b;">Processing...</p>
    </div>

    <script src="script.js"></script>
</body>
</html>